div(ng-controller='LeftBarController as leftBar')
  include ./editor-prompt.pug
  include ./history-prompt.pug
  .left-column.overflow-x-hidden
    .row
      h6.col-xs-12
        | Packages
      a.row.action-link-disabled(ng-class="{'active': leftBar.global, 'action-link-disabled': shell.globalDisabled, 'action-link-enabled': !shell.globalDisabled}", ng-click='leftBar.selectGlobal()')
        i.fa.fa-globe
        | Globals
      br
      h6.col-xs-12(ng-if='shell.projects.length > 0')
        | Projects
      div(ng-repeat='item in shell.projects track by $index')
        a.row.project(title="{{item.path}}", ng-right-click="leftBar.rightClickMenu(item, $event)", ng-class="{'active': leftBar.selectedProject === item && !leftBar.global}", ng-if="leftBar.removedProject !== item", ng-click='leftBar.selectProject(item, $event)')
          i.fa.fa-folder-o
          div
            b {{item.dirName}}
          button(ng-click='leftBar.deleteProject(item, $event)')
            i.fa.fa-times-circle-o
        div(ng-init="leftBar.cancelProgressActionId = false;")
          .left-progress.left-progress-minor.color-white.fake-link(ng-repeat="runningScript in ['1','2','3'] track by $index")
            div(ng-mouseover="leftBar.cancelProgressActionId = runningScript", ng-mouseleave="leftBar.cancelProgressActionId = false;")
              small(ng-show="leftBar.cancelProgressActionId !== runningScript")
                | &#8627; Running: {{runningScript}}
              small(ng-show="leftBar.cancelProgressActionId === runningScript")
                | Click dismiss
              .left-progress-loading
          .left-progress.color-white.fake-link(ng-mouseover="leftBar.cancelProgressActionId = $index", ng-mouseleave="leftBar.cancelProgressActionId = false;")
            small(ng-show="leftBar.cancelProgressActionId !== $index")
              | &#8627; Installing
            small(ng-show="leftBar.cancelProgressActionId === $index")
              | Click dismiss
            .left-progress-loading
          .left-progress.color-white(ng-show="leftBar.npmReinstallingProjects[item.dirName]")
            small(ng-show="leftBar.cancelProgressActionId !== $index")
              | &#8627; Reinstalling
            small(ng-show="leftBar.cancelProgressActionId === $index")
              | Click dismiss
            .left-progress-loading
          .left-progress.color-white(ng-show="leftBar.npmBuildingProjects[item.dirName]")
            small(ng-show="leftBar.cancelProgressActionId !== $index")
              | &#8627; Building
            small(ng-show="leftBar.cancelProgressActionId === $index")
              | Click dismiss
            .left-progress-loading
          .left-progress.color-white(ng-show="leftBar.npmRebuildingProjects[item.dirName]")
            small(ng-show="leftBar.cancelProgressActionId !== $index")
              | &#8627; Rebuilding
            small(ng-show="leftBar.cancelProgressActionId === $index")
              | Click dismiss
            .left-progress-loading
          .left-progress.color-white(ng-show="leftBar.npmPruningProjects[item.dirName]")
            small(ng-show="leftBar.cancelProgressActionId !== $index")
            | &#8627; Pruning
            small(ng-show="leftBar.cancelProgressActionId === $index")
              | Click dismiss
            .left-progress-loading
          .left-progress.color-white(ng-show="leftBar.npmDedupingProjects[item.dirName]")
            small(ng-show="leftBar.cancelProgressActionId !== $index")
            | &#8627; Deduping
            small(ng-show="leftBar.cancelProgressActionId === $index")
              | Click dismiss
            .left-progress-loading
    br
